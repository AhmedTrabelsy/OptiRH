<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.cell.PropertyValueFactory?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.text.Text?>

<?import javafx.scene.control.TextArea?>
<AnchorPane prefHeight="723.0" prefWidth="1272.0" style="-fx-background-color: #f4f4f4; -fx-padding: 30;" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="tn.nexus.Controllers.ListeEvenementController">

                <!--Bare du champs avec les boutton choisir image et clear-->
    <AnchorPane layoutX="258.0" layoutY="155.0" prefHeight="477.0" prefWidth="249.0">
        <TextField fx:id="titreField" layoutX="-20.0" layoutY="3.0" promptText="Titre" />
        <TextField fx:id="lieuField" layoutX="-20.0" layoutY="50.0" promptText="Lieu" />
        <TextArea fx:id="descriptionField" layoutX="-20.0" layoutY="100.0" promptText="Description" wrapText="true" prefHeight="100.0" prefWidth="300.0" />

        <TextField fx:id="prixField" layoutX="-20.0" layoutY="230.0" promptText="Prix" />
        <DatePicker fx:id="dateDebutField" layoutX="-20.0" layoutY="280.0" promptText="Date Début" />
        <DatePicker fx:id="dateFinField" layoutX="-20.0" layoutY="330.0" promptText="Date Fin" />
        <TextField fx:id="heureField" layoutX="-20.0" layoutY="380.0" promptText="Heure" />
        <Button layoutX="10.0" layoutY="481.0" onAction="#ajouterEvenement" style="-fx-background-color: #007b8f; -fx-text-fill: white; -fx-background-radius: 8;" text="Ajouter" />
        <Button layoutX="189.0" layoutY="481.0" onAction="#modifierEvenement" style="-fx-background-color: #007b8f; -fx-text-fill: white; -fx-background-radius: 8;" text="Modifier" />
        <Button layoutX="89.0" layoutY="481.0" onAction="#supprimerEvenement" style="-fx-background-color: #007b8f; -fx-text-fill: white; -fx-background-radius: 8;" text="Supprimer" />

        <TextField fx:id="imageField" layoutX="-20.0" layoutY="430.0" promptText="Image" />
      <Label layoutX="-20.0" layoutY="-15.0" prefHeight="18.0" prefWidth="42.0" text="Titre:" />
      <Label layoutX="-20.0" layoutY="30.0" text="Lieux:" />
      <Label layoutX="-20.0" layoutY="80.0" text="Description:" />
      <Label layoutX="-20.0" layoutY="210.0" text="Prix:" />
      <Label layoutX="-20.0" layoutY="260.0" text="Date Debut :" />
      <Label layoutX="-20.0" layoutY="310.0" text="Date Fin:" />
      <Label layoutX="-20.0" layoutY="360.0" text="Heure:" />
      <Label layoutX="-20.0" layoutY="410.0" text="Image :" />
        <Button layoutX="206.0" layoutY="51.0" mnemonicParsing="false" onAction="#clearFields" style="-fx-background-color: #007b8f; -fx-text-fill: white; -fx-background-radius: 8;" text="Clear" />
        <Button fx:id="imageButton" layoutX="193.0" layoutY="430.0" onAction="#choisirImage" style="-fx-background-color: #007b8f; -fx-text-fill: white; -fx-background-radius: 8;" text="Choisir" />
    </AnchorPane>

                         <!-- TableView pour afficher la liste des événements -->
    <TableView fx:id="eventsTable" layoutX="542.0" layoutY="116.0" prefHeight="183.0" prefWidth="700.0">
        <columns>


                                 <!-- Colonne pour le titre de l'événement -->
            <TableColumn fx:id="titleColumn" prefWidth="83.20001220703125" text="Titre">
                <cellValueFactory>
                    <PropertyValueFactory property="titre" />
                </cellValueFactory>
            </TableColumn>

                                 <!-- Colonne pour le lieu de l'événement -->
            <TableColumn fx:id="locationColumn" prefWidth="68.79998779296875" text="Lieu">
                <cellValueFactory>
                    <PropertyValueFactory property="lieu" />
                </cellValueFactory>
            </TableColumn>

                                 <!-- Colonne pour la description de l'événement -->
            <TableColumn fx:id="descriptionColumn" prefWidth="160.20001220703125"  text="Description">
                <cellValueFactory>
                    <PropertyValueFactory property="description" />
                </cellValueFactory>
            </TableColumn>

                                 <!-- Colonne pour le prix de l'événement -->
            <TableColumn fx:id="priceColumn" prefWidth="46.39996337890625" text="Prix">
                <cellValueFactory>
                    <PropertyValueFactory property="prix" />
                </cellValueFactory>
            </TableColumn>

                                 <!-- Colonne pour la date de début -->
            <TableColumn fx:id="startDateColumn" prefWidth="111.20001220703125" text="Date Début">
                <cellValueFactory>
                    <PropertyValueFactory property="dateDebut" />
                </cellValueFactory>
            </TableColumn>

                                 <!-- Colonne pour la date de fin -->
            <TableColumn fx:id="endDateColumn" prefWidth="92.0" text="Date Fin">
                <cellValueFactory>
                    <PropertyValueFactory property="dateFin" />
                </cellValueFactory>
            </TableColumn>

                                 <!-- Colonne pour l'image de l'événement -->
            <TableColumn fx:id="imageColumn" prefWidth="71.20001220703125" text="Image">
                <cellValueFactory>
                    <PropertyValueFactory property="image" />
                </cellValueFactory>
            </TableColumn>

                                 <!-- Colonne pour l'heure de l'événement -->
            <TableColumn fx:id="timeColumn" prefWidth="82.4000244140625" text="Heure">
                <cellValueFactory>
                    <PropertyValueFactory property="heure" />
                </cellValueFactory>
            </TableColumn>
        </columns>
    </TableView>


                <!--Tableau pour afficher toutes les reservation-->
   <TableView fx:id="Reservation_Tab" layoutX="542.0" layoutY="313.0" prefHeight="192.0" prefWidth="700.0">
     <columns>

         <TableColumn fx:id="titre1" prefWidth="90.79998779296875" text="Titre" />
         <TableColumn fx:id="FirstnameColumn" prefWidth="94.800048828125" text="Prenom" />
         <TableColumn fx:id="LastNameColumn" prefWidth="94.0" text="Nom" />
         <TableColumn fx:id="PhoneColumn" prefWidth="145.60003662109375" text="Telephone" />
         <TableColumn fx:id="EmailColumn" prefWidth="92.800048828125" text="email" />
         <TableColumn fx:id="DateReservationColumn" prefWidth="180.60001220703123" text="DateReservation" />
     </columns>
   </TableView>
   <Label layoutX="291.0" layoutY="98.0" text="Formulaire">
      <font>
         <Font size="33.0" />
      </font>
   </Label>
   <Pane fx:id="up_barre" layoutX="-30.0" prefHeight="90.0" prefWidth="1270.0" styleClass="up_barre" stylesheets="/styles/theme.css">
      <children>
         <ImageView fitHeight="146.0" fitWidth="168.0" layoutX="28.0" layoutY="-20.0" pickOnBounds="true" preserveRatio="true" style="-fx-cursor: hand;">
            <image>
               <Image url="/images/logoGris_enhanced.png" />
            </image>
         </ImageView>
         <ImageView fx:id="userImage" fitHeight="29.0" fitWidth="35.0" layoutX="1005.0" layoutY="20.0" pickOnBounds="true" preserveRatio="true">
            <image>
               <Image url="/images/user.png" />
            </image>
         </ImageView>
         <Text fx:id="fullnameText" fill="WHITE" layoutX="918.0" layoutY="33.0" strokeType="OUTSIDE" strokeWidth="0.0" text="Bonjour, User" />
         <Text fx:id="roleText" fill="WHITE" layoutX="971.0" layoutY="50.0" strokeType="OUTSIDE" strokeWidth="0.0" text="Role">
            <font>
               <Font size="11.0" />
            </font>
         </Text>
      </children>
   </Pane>
   <AnchorPane fx:id="left_barre" layoutY="90.0" prefHeight="564.0" prefWidth="224.0" style="-fx-background-color: #8fa6b5;">
      <children>
         <ImageView fitHeight="24.0" fitWidth="24.0" layoutX="26.0" layoutY="30.0" pickOnBounds="true" preserveRatio="true">
            <image>
               <Image url="/images/dashboard.png" />
            </image>
         </ImageView>
         <Text fx:id="tab1" layoutX="73.0" layoutY="50.0" strokeType="OUTSIDE" strokeWidth="0.0" style="-fx-cursor: hand;" text="Tableau de bord" AnchorPane.leftAnchor="66.0" AnchorPane.topAnchor="31.576171875">
            <font>
               <Font size="14.0" />
            </font>
         </Text>
         <ImageView fitHeight="24.0" fitWidth="24.0" layoutX="26.0" layoutY="80.0" pickOnBounds="true" preserveRatio="true">
            <image>
               <Image url="/images/community.png" />
            </image>
         </ImageView>
         <Text layoutX="67.0" layoutY="100.0" strokeType="OUTSIDE" strokeWidth="0.0" style="-fx-cursor: hand;" text="Employés">
            <font>
               <Font size="14.0" />
            </font>
         </Text>
         <ImageView fitHeight="29.0" fitWidth="23.0" layoutX="28.0" layoutY="130.0" pickOnBounds="true" preserveRatio="true">
            <image>
               <Image url="/images/statistiques.png" />
            </image>
         </ImageView>
         <Text layoutX="67.0" layoutY="150.0" strokeType="OUTSIDE" strokeWidth="0.0" style="-fx-cursor: hand;" text="Offres">
            <font>
               <Font size="14.0" />
            </font>
         </Text>
         <ImageView fitHeight="29.0" fitWidth="23.0" layoutX="27.0" layoutY="180.0" pickOnBounds="true" preserveRatio="true">
            <image>
               <Image url="/images/calculator.png" />
            </image>
         </ImageView>
         <Text layoutX="67.0" layoutY="200.0" strokeType="OUTSIDE" strokeWidth="0.0" style="-fx-cursor: hand;" text="Missions">
            <font>
               <Font size="14.0" />
            </font>
         </Text>
         <ImageView fitHeight="29.0" fitWidth="23.0" layoutX="30.0" layoutY="231.0" pickOnBounds="true" preserveRatio="true">
            <image>
               <Image url="/images/calendar.png" />
            </image>
         </ImageView>
         <Text layoutX="67.0" layoutY="250.0" strokeType="OUTSIDE" strokeWidth="0.0" style="-fx-cursor: hand;" text="Événement">
            <font>
               <Font size="14.0" />
            </font>
         </Text>
         <AnchorPane fx:id="logoutPane" layoutX="12.0" layoutY="415.0" prefHeight="40.0" prefWidth="224.0" style="-fx-background-color: #007b8f;" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0">
            <children>
               <Text layoutX="72.0" layoutY="25.0" strokeType="OUTSIDE" strokeWidth="0.0" style="-fx-cursor: hand;" text="Déconnexion">
                  <font>
                     <Font size="14.0" />
                  </font>
               </Text>
               <ImageView fitHeight="16.0" fitWidth="16.0" layoutX="30.0" layoutY="14.0" pickOnBounds="true" preserveRatio="true">
                  <image>
                     <Image url="/images/logout.png" />
                  </image>
               </ImageView>
            </children>
         </AnchorPane>
         <ImageView fitHeight="29.0" fitWidth="23.0" layoutX="30.0" layoutY="284.0" pickOnBounds="true" preserveRatio="true">
            <image>
               <Image url="/images/cote-voiture.png" />
            </image>
         </ImageView>
         <Text layoutX="67.0" layoutY="300.0" strokeType="OUTSIDE" strokeWidth="0.0" style="-fx-cursor: hand;" text="Transport">
            <font>
               <Font size="14.0" />
            </font>
         </Text>
         <ImageView fitHeight="29.0" fitWidth="23.0" layoutX="27.0" layoutY="333.0" pickOnBounds="true" preserveRatio="true">
            <image>
               <Image url="/images/exclamation.png" />
            </image>
         </ImageView>
         <Text layoutX="67.0" layoutY="350.0" strokeType="OUTSIDE" strokeWidth="0.0" style="-fx-cursor: hand;" text="Réclamations">
            <font>
               <Font size="14.0" />
            </font>
         </Text>
         <AnchorPane fx:id="logoutPane1" layoutY="412.0" prefHeight="40.0" prefWidth="224.0" style="-fx-background-color: #007b8f;">
            <children>
               <ImageView fitHeight="16.0" fitWidth="16.0" layoutX="29.0" layoutY="12.0" pickOnBounds="true" preserveRatio="true">
                  <image>
                     <Image url="/images/reglages.png" />
                  </image>
               </ImageView>
               <Text layoutX="72.0" layoutY="25.0" strokeType="OUTSIDE" strokeWidth="0.0" style="-fx-cursor: hand;" text="Paramètres">
                  <font>
                     <Font size="14.0" />
                  </font>
               </Text>
            </children>
         </AnchorPane>
      </children>
   </AnchorPane>

      </AnchorPane>
