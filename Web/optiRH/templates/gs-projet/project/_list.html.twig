{# templates/gs_projet/project/_list.html.twig #}
{% for project in projects %}
    <tr data-id="{{ project.id }}">
        <td>
            <a href="{{ path('gs-projet_project_show', {id: project.id}) }}" 
               class="text-dark fw-semibold text-decoration-none">
                {{ project.nom }}
            </a>
        </td>
        <td class="text-muted small">{{ project.description|u.truncate(100, '...') }}</td>
        <td>
            <span class="badge bg-{{ project.status|status_badge }} rounded-pill">
                {{ project.status }}
            </span>
        </td>
        <td class="text-muted small">{{ project.createdAt|date('d/m/Y') }}</td>
        <td>
            <div class="d-flex gap-2">
                {# Actions #}
                <a href="{{ path('gs-projet_project_show', {id: project.id}) }}" 
                   class="btn btn-sm btn-outline-secondary"
                   title="Voir détails">
                    <i class="mdi mdi-eye-outline"></i>
                </a>
                <a href="{{ path('gs-projet_project_edit', {id: project.id}) }}" 
                   class="btn btn-sm btn-outline-primary"
                   title="Modifier">
                    <i class="mdi mdi-pencil-outline"></i>
                </a>
                <form method="post" 
                      action="{{ path('gs-projet_project_delete', {'id': project.id}) }}">
                    <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ project.id) }}">
                    <button class="btn btn-sm btn-outline-danger delete-project" 
                            type="button"
                            data-id="{{ project.id }}"
                            data-name="{{ project.nom }}">
                        <i class="mdi mdi-delete-outline"></i>
                    </button>
                </form>
            </div>
        </td>
    </tr>
{% else %}
    <tr>
        <td colspan="5" class="text-center py-4 text-muted">
            Aucun projet trouvé
        </td>
    </tr>
{% endfor %}