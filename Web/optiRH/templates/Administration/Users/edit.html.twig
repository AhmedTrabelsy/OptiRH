{% extends 'partials/layout-vertical.html.twig' %}

{% block title %}Modifier Utilisateur
{% endblock %}

{% block topbar %}
{{ include('partials/topbar.html.twig', { page_title: 'Modifier l\'Utilisateur' }) }}
{% endblock %}

{% block body %}
<div class="container mt-4">
	<a href="{{ path('admin_users') }}" class="btn btn-light mb-3">
		<i class="fas fa-arrow-left me-1"></i> Retour Ã  la liste
	</a>

	<div class="card shadow-sm border-0">
		<div class="card-body">
			<h4 class="card-title mb-4">Modifier les informations</h4>

            {{ form_start(form, {'attr': {'novalidate': 'novalidate'}}) }}
            {% if not form.vars.valid %}
                <div class="alert alert-danger">
                    {{ form_errors(form) }}
                    {% for child in form.children %}
                        {{ form_errors(child) }}
                    {% endfor %}
                </div>
            {% endif %}

			<div class="row mb-3">
				<div class="col-md-6">
					{{ form_label(form.nom) }}
					{{ form_widget(form.nom, { attr: { class: 'form-control' } }) }}
				</div>

				<div class="col-md-6">
					{{ form_label(form.email) }}
					{{ form_widget(form.email, { attr: { class: 'form-control' } }) }}
				</div>
			</div>

			<div class="row mb-3">
				<div class="col-md-6">
					{{ form_label(form.address) }}
					{{ form_widget(form.address, { attr: { class: 'form-control' } }) }}
				</div>

                <div class="col-md-6">
                    {{ form_label(form.plainPassword) }}
                    {{ form_widget(form.plainPassword, { attr: { class: 'form-control' } }) }}
                </div>
			</div>
                <div class="col-md-6">
                    {{ form_label(form.roles) }}
                    <div class="d-flex flex-column gap-2">
                        {{ form_widget(form.roles) }}
                    </div>
                </div>

			<hr>

			<button type="submit" class="btn btn-success">
				<i class="fas fa-save me-1"></i> Sauvegarder
			</button>
			<a href="{{ path('admin_users') }}" class="btn btn-secondary ms-2">Annuler</a>

			{{ form_end(form) }}
		</div>
	</div>
</div>
{% endblock %}
